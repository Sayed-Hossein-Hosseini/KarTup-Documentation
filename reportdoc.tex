\documentclass[12pt,dvipsnames, svgnames, x11names,oneside]{book}

% inline lists ----------------------------------------------
\usepackage{paralist}
% -----------------------------------------------------------

% URLs and hyperlinks ---------------------------------------
\usepackage{hyperref}
\hypersetup{
colorlinks=true,
linkcolor=Navy,
filecolor=magenta,
urlcolor=Navy,
}
\urlstyle{same}
%------------------------------------------------------------

% resourses -------------------------------------------------
\usepackage{natbib}
%------------------------------------------------------------

% tables ----------------------------------------------------
\usepackage{float}
\usepackage{longtable}
\usepackage{rotating}
\renewcommand{\arraystretch}{1.4}
%------------------------------------------------------------

% section numbering -----------------------------------------
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}
%------------------------------------------------------------

% titlepage -------------------------------------------------
\usepackage{pdfpages}
%------------------------------------------------------------

% checkmark -------------------------------------------------
\usepackage{amssymb}
%------------------------------------------------------------

% inline lists and itemize ----------------------------------
\usepackage{enumitem}
% -----------------------------------------------------------

% adjust a verrrrry big table -------------------------------
\usepackage{adjustbox}
% -----------------------------------------------------------

% quotes ----------------------------------------------------
\newcommand{\say}[1]{‍''{#1}`‍`}
% -----------------------------------------------------------

% code listing ----------------------------------------------
\usepackage{listings}
\usepackage{xcolor}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
	language=TeX,
	aboveskip=3mm,
	belowskip=3mm,
	showstringspaces=false,
	columns=flexible,
	basicstyle=\ttfamily,
	numbers=left,
	numberstyle=\small\color{gray},
	keywordstyle=\bfseries\color{Green4},
	commentstyle=\color{gray},
	stringstyle=\color{mauve},
	breaklines=true,
	breakatwhitespace=true,
	tabsize=4,
	identifierstyle=\color{black},
	keywords={begin, includepdf, frontmatter, tableofcontents, mainmatter, include}
}
% -----------------------------------------------------------

% persian support -------------------------------------------
\usepackage{xepersian}
\settextfont{Yas}
%------------------------------------------------------------

% Rn custom item in enumeration -----------------------------
\newcounter{itemadded}
\setcounter{itemadded}{0}


\newcommand{\addeditem}{%
\addtocounter{enumi}{-1}%
\stepcounter{itemadded}
\let\LaTeXStandardLabelEnumi\labelenumi%
\addtocounter{enumi}{1}
\renewcommand{\labelenumi}{\arabic{enumi}\lr{R}.}%
\item 
% Switch back to old labelling 
\let\labelenumi\LaTeXStandardLabelEnumi%
}%


\let\LaTeXStandardEnumerateBegin\enumerate
\let\LaTeXStandardEnumerateEnd\endenumerate

\renewenvironment{enumerate}{%
\LaTeXStandardEnumerateBegin%
\setcounter{itemadded}{0}
}{%
\LaTeXStandardEnumerateEnd%
}%
% -----------------------------------------------------------

% commands --------------------------------------------------
% usecase stuff
\newcommand{\uc}[1]{\lr{UC{#1}}}
\newcommand{\req}[1]{\lr{R{#1}}}
\newcommand{\tucbw}{\lr{TUCBW}}
\newcommand{\tucew}{\lr{TUCEW}}
\newcommand{\tuc}[2]{
\begin{itemize}
\item[] \tucbw: {#1}
\item[] \tucew: {#2}
\end{itemize}}

\newcommand{\zstar}{$\star$}
\newcommand{\actorsystem}[1]{
\textbf{کنشگر: {#1}} &
\textbf{سیستم: کارتاپ} \\
}
\newcommand{\zerostep}[1]{
& 0. {#1} \\
}

% brainstorm stuff
\newcommand{\myc}{\lr{C}}
\newcommand{\mya}{\lr{A}}
\newcommand{\asus}{\lr{AS(user, system)}}
\newcommand{\asjs}{\lr{AS(job seeker, system)}}
\newcommand{\asje}{\lr{AS(job seeker, the employer)}}
\newcommand{\ases}{\lr{AS(the employer, system)}}
\newcommand{\asej}{\lr{AS(the employer, job seeker)}}
\newcommand{\aser}{\lr{AS(the employer, requests)}}
\newcommand{\asser}{\lr{AS(system, errors)}}
\newcommand{\asse}{\lr{AS(system, the employer)}}
\newcommand{\assj}{\lr{AS(system, job seeker)}}
\newcommand{\assu}{\lr{AS(system, user)}}
\newcommand{\myv}{\lr{V}}
\newcommand{\onealef}{۱-الف}
\newcommand{\oneh}{۱-ه}
\newcommand{\oned}{۱-د}
\newcommand{\onej}{۱-ج}
\newcommand{\fiveb}{۵-ب}

% words
\newcommand{\json}{\lr{JSON} }
\newcommand{\gdm}{\lr{GDM} }
\newcommand{\none}{\lr{None} }
\newcommand{\frontend}{\lr{Front-end} }
\newcommand{\serialize}{\lr{serialize} }
% -----------------------------------------------------------

% Counters --------------------------------------------------
\newcounter{UseCaseCounter}
\newcommand{\step}[1]{
\stepcounter{UseCaseCounter}\arabic{UseCaseCounter}. {#1}
}
\newcommand{\ucname}[2]{
\multicolumn{2}{|r|}{\uc{{#1}}: {#2}} \\
}
\newcommand{\preif}[1]{
\multicolumn{2}{|r|}{پیش‌شرط:‌ {#1}} \\
}

\newcounter{UseCaseListCounter}
\newcommand{\ucstep}[1]{
\lr{UC\stepcounter{UseCaseListCounter}\arabic{UseCaseListCounter}}: {#1}
}

\newcommand{\subr}{\item[\stepcounter{enumii}\arabic{enumii}.\arabic{enumi}\lr{.R}]}

% senario stuff
\newcounter{MainStepCounter}
\newcounter{MajorStepCounter}
\newcounter{PatchStepCounter}
\newcounter{BetaStepCounter}
\newcounter{AlphaStepCounter}
\newcounter{CandidateStepCounter}

\newcommand{\mainstep}[1]{
	\setcounter{MajorStepCounter}{0}
	\setcounter{PatchStepCounter}{0}
	\setcounter{BetaStepCounter}{0}
	\setcounter{AlphaStepCounter}{0}
	\setcounter{CandidateStepCounter}{0}	
	\setcounter{MajorStepCounter}{0}
	\stepcounter{MainStepCounter}
	\arabic{MainStepCounter}. {#1} \\
}
\newcommand{\beginmainstep}[1]{
	\setcounter{MajorStepCounter}{1}
	\setcounter{PatchStepCounter}{0}
	\setcounter{BetaStepCounter}{0}
	\setcounter{AlphaStepCounter}{0}
	\setcounter{CandidateStepCounter}{0}	
	\stepcounter{MainStepCounter}
	\arabic{MainStepCounter}.\arabic{MajorStepCounter}. {#1} \\
}
\newcommand{\majorstep}[1]{
	\setcounter{PatchStepCounter}{0}
	\setcounter{BetaStepCounter}{0}
	\setcounter{AlphaStepCounter}{0}
	\setcounter{CandidateStepCounter}{0}
	\stepcounter{MajorStepCounter}
	\arabic{MainStepCounter}.\arabic{MajorStepCounter}. {#1} \\
}
\newcommand{\patchstep}[1]{
	\setcounter{BetaStepCounter}{0}
	\setcounter{AlphaStepCounter}{0}
	\setcounter{CandidateStepCounter}{0}
	\stepcounter{PatchStepCounter}
	\arabic{MainStepCounter}.\arabic{MajorStepCounter}.\arabic{PatchStepCounter}. {#1} \\
}
\newcommand{\betastep}[1]{
	\setcounter{AlphaStepCounter}{0}
	\setcounter{CandidateStepCounter}{0}
	\stepcounter{BetaStepCounter}
	\arabic{MainStepCounter}.\arabic{MajorStepCounter}.\arabic{PatchStepCounter}.\arabic{BetaStepCounter}. {#1} \\
}
\newcommand{\alphastep}[1]{
	\setcounter{CandidateStepCounter}{0}\stepcounter{AlphaStepCounter}
	\arabic{MainStepCounter}.\arabic{MajorStepCounter}.\arabic{PatchStepCounter}.\arabic{BetaStepCounter}.\arabic{AlphaStepCounter}. {#1} \\
}
\newcommand{\candidatestep}[1]{
	\stepcounter{CandidateStepCounter}
	\arabic{MainStepCounter}.\arabic{MajorStepCounter}.\arabic{PatchStepCounter}.\arabic{BetaStepCounter}.\arabic{AlphaStepCounter}.\arabic{CandidateStepCounter}. {#1} \\
}
% -----------------------------------------------------------

\begin{document}
\renewcommand{\bibname}{مراجع}
\includepdf{title}
\frontmatter
\tableofcontents
\mainmatter

\include{reqs.tex}
\include{dm.tex}
\include{usecases.tex}
\include{expanded.tex}
\include{oim.tex}
\include{assignment.tex}
\include{designclass.tex}
\include{groupwork.tex}

\bibliographystyle{plainnat-fa}
\bibliography{Ref}
\end{document}
